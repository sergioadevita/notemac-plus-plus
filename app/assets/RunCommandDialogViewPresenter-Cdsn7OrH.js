import{u as g,r,j as n}from"./index-BNMZZQp6.js";import"./react-vendor-P8ZuH1e3.js";import"./monaco-editor-C1KnpKkb.js";function C({theme:o}){const{setShowRunCommand:s}=g(),[i,f]=r.useState(""),[l,t]=r.useState(""),[d,c]=r.useState(!1),u=r.useRef(null);r.useEffect(()=>{var e;(e=u.current)==null||e.focus()},[]);const p=async()=>{var e,x;if(i.trim()){if(c(!0),t(""),window.electronAPI)try{const a=await((x=(e=window.electronAPI).runCommand)==null?void 0:x.call(e,i));t(a||"Command executed.")}catch(a){t(`Error: ${a.message||a}`)}else t(`Run command is only available in the desktop version.
In the web version, you can open a terminal separately.`);c(!1)}};return n.jsx("div",{className:"dialog-overlay",onClick:()=>s(!1),children:n.jsxs("div",{onClick:e=>e.stopPropagation(),style:{backgroundColor:o.bgSecondary,border:`1px solid ${o.border}`,borderRadius:8,padding:20,width:500,boxShadow:"0 8px 32px rgba(0,0,0,0.4)"},children:[n.jsx("h3",{style:{color:o.text,fontSize:16,marginBottom:12,fontWeight:600},children:"Run Command"}),n.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[n.jsx("input",{ref:u,type:"text",value:i,onChange:e=>f(e.target.value),onKeyDown:e=>{e.key==="Enter"&&p(),e.key==="Escape"&&s(!1)},placeholder:"Enter command to run...",style:{flex:1,height:32,backgroundColor:o.bg,color:o.text,border:`1px solid ${o.border}`,borderRadius:6,padding:"0 12px",fontSize:14,fontFamily:"monospace"}}),n.jsx("button",{onClick:p,disabled:d,style:{backgroundColor:o.accent,color:o.accentText,border:"none",borderRadius:6,padding:"0 20px",cursor:d?"wait":"pointer",fontSize:13,fontWeight:600},children:d?"Running...":"Run"})]}),l&&n.jsx("pre",{style:{backgroundColor:o.bg,color:o.text,padding:12,borderRadius:6,border:`1px solid ${o.border}`,fontSize:12,fontFamily:"monospace",maxHeight:200,overflowY:"auto",whiteSpace:"pre-wrap",wordBreak:"break-all",margin:0},children:l}),n.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:12},children:n.jsx("button",{onClick:()=>s(!1),style:{backgroundColor:"transparent",color:o.textSecondary,border:`1px solid ${o.border}`,borderRadius:6,padding:"6px 16px",cursor:"pointer",fontSize:13},children:"Close"})})]})})}export{C as RunCommandDialog};
