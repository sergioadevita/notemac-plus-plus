import{u as v,r as g,a as C,j as e,t as f,G as w}from"./index-DLc_IVaT.js";import"./react-vendor-P8ZuH1e3.js";import"./monaco-editor-C1KnpKkb.js";function T(l){return g.useMemo(()=>({fieldContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},fieldLabel:{color:l.text,fontSize:13},selectInput:{backgroundColor:l.bg,color:l.text,border:`1px solid ${l.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},numberInput:{backgroundColor:l.bg,color:l.text,border:`1px solid ${l.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,width:80,textAlign:"center"},checkboxContainer:{padding:"8px 0"},checkboxLabel:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},checkboxInput:{accentColor:l.accent,width:16,height:16},checkboxLabelText:{color:l.text,fontSize:13},checkboxDescription:{color:l.textMuted,fontSize:12,marginTop:2},sectionHeader:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:l.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${l.border}`,marginBottom:8},dialogOverlay:{className:"dialog-overlay"},dialogMain:{backgroundColor:l.bgSecondary,border:`1px solid ${l.border}`,width:650,maxHeight:"80vh",display:"flex",flexDirection:"column"},dialogHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},dialogTitle:{color:l.text,fontSize:18,fontWeight:600},closeButton:{cursor:"pointer",color:l.textMuted,fontSize:20},contentWrapper:{display:"flex",flex:1,gap:16,overflow:"hidden"},sidebarNav:{width:140,flexShrink:0,display:"flex",flexDirection:"column",gap:2},sidebarItem:n=>({padding:"8px 12px",cursor:"pointer",borderRadius:6,fontSize:13,backgroundColor:n?l.bgHover:"transparent",color:n?l.text:l.textSecondary,fontWeight:n?600:400}),settingsContent:{flex:1,overflow:"auto",paddingRight:8},keybindingsContainer:{color:l.textSecondary,fontSize:13},keybindingRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:`1px solid ${l.border}`},keybindingKbd:{backgroundColor:l.bgTertiary,padding:"2px 8px",borderRadius:4,fontSize:12,fontFamily:"-apple-system, system-ui, sans-serif",border:`1px solid ${l.border}`}}),[l])}function z({theme:l}){const{settings:n,updateSettings:t}=v(),p=n.theme==="custom",u=p?n.customThemeBase:n.theme,m=w(u),b=Object.keys(n.customThemeColors).filter(a=>n.customThemeColors[a]!==void 0).length,s=g.useCallback(a=>{t(a==="custom"?{theme:"custom",customThemeBase:n.theme,customThemeColors:{}}:{theme:a,customThemeColors:{}})},[n.theme,t]),S=g.useCallback((a,r)=>{const o={...n.customThemeColors,[a]:r};t(p?{customThemeColors:o}:{theme:"custom",customThemeBase:n.theme,customThemeColors:o})},[p,n.theme,n.customThemeColors,t]),h=g.useCallback(a=>{const r={...n.customThemeColors};delete r[a];const o=Object.keys(r).filter(i=>r[i]!==void 0).length;t(o===0?{theme:n.customThemeBase,customThemeColors:{}}:{customThemeColors:r})},[n.customThemeBase,n.customThemeColors,t]),y=g.useCallback(()=>{t({theme:n.customThemeBase,customThemeColors:{}})},[n.customThemeBase,t]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:l.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${l.border}`,marginBottom:8},children:"Theme"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:l.text,fontSize:13},children:"Color Theme"}),e.jsxs("select",{value:n.theme,onChange:a=>s(a.target.value),style:{backgroundColor:l.bg,color:l.text,border:`1px solid ${l.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},children:[e.jsx("option",{value:"mac-glass",children:"Mac Glass (Default)"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"monokai",children:"Monokai"}),e.jsx("option",{value:"dracula",children:"Dracula"}),e.jsx("option",{value:"solarized-dark",children:"Solarized Dark"}),e.jsx("option",{value:"solarized-light",children:"Solarized Light"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),p&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:l.text,fontSize:13},children:"Base Theme"}),e.jsxs("select",{value:n.customThemeBase,onChange:a=>t({customThemeBase:a.target.value}),style:{backgroundColor:l.bg,color:l.text,border:`1px solid ${l.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},children:[e.jsx("option",{value:"mac-glass",children:"Mac Glass"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"monokai",children:"Monokai"}),e.jsx("option",{value:"dracula",children:"Dracula"}),e.jsx("option",{value:"solarized-dark",children:"Solarized Dark"}),e.jsx("option",{value:"solarized-light",children:"Solarized Light"})]})]}),e.jsx("div",{style:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:l.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${l.border}`,marginBottom:8},children:"Font"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:l.text,fontSize:13},children:"Font Size"}),e.jsx("input",{type:"number",value:n.fontSize,min:8,max:32,onChange:a=>t({fontSize:parseInt(a.target.value)}),style:{backgroundColor:l.bg,color:l.text,border:`1px solid ${l.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,width:80,textAlign:"center"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:l.text,fontSize:13},children:"Font Family"}),e.jsxs("select",{value:n.fontFamily,onChange:a=>t({fontFamily:a.target.value}),style:{backgroundColor:l.bg,color:l.text,border:`1px solid ${l.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},children:[e.jsx("option",{value:"'SF Mono', 'Menlo', 'Monaco', 'Courier New', monospace",children:"SF Mono"}),e.jsx("option",{value:"'Menlo', 'Monaco', 'Courier New', monospace",children:"Menlo"}),e.jsx("option",{value:"'Fira Code', 'SF Mono', monospace",children:"Fira Code"}),e.jsx("option",{value:"'JetBrains Mono', 'SF Mono', monospace",children:"JetBrains Mono"}),e.jsx("option",{value:"'Source Code Pro', 'SF Mono', monospace",children:"Source Code Pro"}),e.jsx("option",{value:"'Courier New', monospace",children:"Courier New"})]})]}),e.jsxs("div",{style:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:l.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${l.border}`,marginBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Theme Colors"}),e.jsx("span",{style:{display:"flex",gap:8,alignItems:"center"},children:b>0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:{fontSize:11,fontWeight:400,textTransform:"none",letterSpacing:0,color:l.accent},children:[b," color",b!==1?"s":""," customized"]}),e.jsx("button",{onClick:y,style:{fontSize:11,background:"none",border:`1px solid ${l.border}`,borderRadius:4,color:l.textSecondary,cursor:"pointer",padding:"2px 8px",textTransform:"none",letterSpacing:0},children:"Reset All"})]})})]}),f.map(a=>e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontSize:11,fontWeight:600,color:l.textMuted,marginBottom:6,paddingTop:4},children:a.label}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px 12px"},children:a.keys.map(({key:r,label:o})=>{const i=r,c=n.customThemeColors[i],x=c||m[i]||"#000000",d=c!==void 0;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"2px 0"},"data-testid":`color-picker-${i}`,children:[e.jsx("input",{type:"color",value:x,onChange:k=>S(i,k.target.value),style:{width:24,height:24,border:`1px solid ${l.border}`,borderRadius:4,cursor:"pointer",padding:0,background:"none"},"data-testid":`color-input-${i}`}),e.jsx("span",{style:{fontSize:11,color:d?l.text:l.textSecondary,flex:1},children:o}),d&&e.jsx("button",{onClick:()=>h(i),"data-testid":`color-reset-${i}`,style:{fontSize:12,background:"none",border:"none",color:l.textMuted,cursor:"pointer",padding:"0 4px",lineHeight:1},title:"Reset to base theme",children:"×"})]},i)})})]},a.label))]})}function I({theme:l}){const{settings:n,updateSettings:t,setShowSettings:p}=v(),[u,m]=g.useState("general"),b=g.useRef(null),s=T(l);C(b,!0,()=>p(!1));const S=[{id:"general",label:"General"},{id:"editor",label:"Editor"},{id:"appearance",label:"Appearance"},{id:"advanced",label:"Advanced"},{id:"keybindings",label:"Keybindings"}],h=({label:o,value:i,options:c,onChange:x})=>e.jsxs("div",{style:s.fieldContainer,children:[e.jsx("label",{style:s.fieldLabel,children:o}),e.jsx("select",{value:i,onChange:d=>x(d.target.value),style:s.selectInput,children:c.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]}),y=({label:o,value:i,min:c,max:x,step:d,onChange:k})=>e.jsxs("div",{style:s.fieldContainer,children:[e.jsx("label",{style:s.fieldLabel,children:o}),e.jsx("input",{type:"number",value:i,min:c,max:x,step:d||1,onChange:j=>k(parseInt(j.target.value)),style:s.numberInput})]}),a=({label:o,checked:i,onChange:c,description:x})=>e.jsx("div",{style:s.checkboxContainer,children:e.jsxs("label",{style:s.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:i,onChange:d=>c(d.target.checked),style:s.checkboxInput}),e.jsxs("div",{children:[e.jsx("div",{style:s.checkboxLabelText,children:o}),x&&e.jsx("div",{style:s.checkboxDescription,children:x})]})]})}),r=({title:o})=>e.jsx("div",{style:s.sectionHeader,children:o});return e.jsx("div",{className:"dialog-overlay",onClick:()=>p(!1),children:e.jsxs("div",{ref:b,role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",className:"dialog",onClick:o=>o.stopPropagation(),style:s.dialogMain,children:[e.jsxs("div",{style:s.dialogHeader,children:[e.jsx("h2",{id:"settings-title",style:s.dialogTitle,children:"Preferences"}),e.jsx("span",{onClick:()=>p(!1),style:s.closeButton,children:"×"})]}),e.jsxs("div",{style:s.contentWrapper,children:[e.jsx("div",{style:s.sidebarNav,children:S.map(o=>e.jsx("div",{onClick:()=>m(o.id),style:s.sidebarItem(u===o.id),children:o.label},o.id))}),e.jsxs("div",{style:s.settingsContent,children:[u==="general"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"General Settings"}),e.jsx(a,{label:"Auto Save",checked:n.autoSave,onChange:o=>t({autoSave:o}),description:"Automatically save files after changes"}),n.autoSave&&e.jsx(y,{label:"Auto Save Delay (ms)",value:n.autoSaveDelay,min:1e3,max:6e4,step:1e3,onChange:o=>t({autoSaveDelay:o})}),e.jsx(y,{label:"Tab Size",value:n.tabSize,min:1,max:8,onChange:o=>t({tabSize:o})}),e.jsx(a,{label:"Insert Spaces for Tabs",checked:n.insertSpaces,onChange:o=>t({insertSpaces:o})}),e.jsx(a,{label:"Auto Indent",checked:n.autoIndent,onChange:o=>t({autoIndent:o}),description:"Automatically indent new lines"}),e.jsx(a,{label:"Remember Last Session",checked:n.rememberLastSession,onChange:o=>t({rememberLastSession:o}),description:"Restore open files when relaunching"}),e.jsx(h,{label:"Date/Time Format",value:n.dateTimeFormat,options:[{value:"locale",label:"Locale Default"},{value:"iso",label:"ISO 8601"},{value:"us",label:"US (MM/DD/YYYY)"},{value:"eu",label:"EU (DD/MM/YYYY)"}],onChange:o=>t({dateTimeFormat:o})})]}),u==="editor"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Editor Behavior"}),e.jsx(a,{label:"Word Wrap",checked:n.wordWrap,onChange:o=>t({wordWrap:o})}),e.jsx(a,{label:"Match Brackets",checked:n.matchBrackets,onChange:o=>t({matchBrackets:o})}),e.jsx(a,{label:"Auto Close Brackets",checked:n.autoCloseBrackets,onChange:o=>t({autoCloseBrackets:o})}),e.jsx(a,{label:"Auto Close Quotes",checked:n.autoCloseQuotes,onChange:o=>t({autoCloseQuotes:o})}),e.jsx(a,{label:"Highlight Current Line",checked:n.highlightCurrentLine,onChange:o=>t({highlightCurrentLine:o})}),e.jsx(a,{label:"Smooth Scrolling",checked:n.smoothScrolling,onChange:o=>t({smoothScrolling:o})}),e.jsx(r,{title:"Display"}),e.jsx(a,{label:"Show Line Numbers",checked:n.showLineNumbers,onChange:o=>t({showLineNumbers:o})}),e.jsx(a,{label:"Show Minimap",checked:n.showMinimap,onChange:o=>t({showMinimap:o})}),e.jsx(a,{label:"Show Indent Guides",checked:n.showIndentGuides,onChange:o=>t({showIndentGuides:o})}),e.jsx(a,{label:"Show End of Line Characters",checked:n.showEOL,onChange:o=>t({showEOL:o})}),e.jsx(h,{label:"Render Whitespace",value:n.renderWhitespace,options:[{value:"none",label:"None"},{value:"boundary",label:"Boundary"},{value:"selection",label:"Selection"},{value:"trailing",label:"Trailing"},{value:"all",label:"All"}],onChange:o=>t({renderWhitespace:o})}),e.jsx(h,{label:"Cursor Style",value:n.cursorStyle,options:[{value:"line",label:"Line"},{value:"block",label:"Block"},{value:"underline",label:"Underline"}],onChange:o=>t({cursorStyle:o})}),e.jsx(h,{label:"Cursor Blinking",value:n.cursorBlinking,options:[{value:"blink",label:"Blink"},{value:"smooth",label:"Smooth"},{value:"phase",label:"Phase"},{value:"expand",label:"Expand"},{value:"solid",label:"Solid"}],onChange:o=>t({cursorBlinking:o})})]}),u==="appearance"&&e.jsx(z,{theme:l}),u==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Advanced Settings"}),e.jsx(a,{label:"Virtual Space",checked:n.virtualSpace,onChange:o=>t({virtualSpace:o}),description:"Allow cursor to move beyond end of line"}),e.jsx(a,{label:"Always on Top",checked:n.alwaysOnTop,onChange:o=>{var i,c;t({alwaysOnTop:o}),window.electronAPI&&((c=(i=window.electronAPI).setAlwaysOnTop)==null||c.call(i,o))},description:"Keep window above all other windows"}),e.jsx(a,{label:"Distraction-Free Mode",checked:n.distractionFreeMode,onChange:o=>t({distractionFreeMode:o}),description:"Hide all chrome for focused editing"}),e.jsx(a,{label:"Sync Scroll (Vertical)",checked:n.syncScrollVertical,onChange:o=>t({syncScrollVertical:o}),description:"Sync vertical scroll in split view"}),e.jsx(a,{label:"Sync Scroll (Horizontal)",checked:n.syncScrollHorizontal,onChange:o=>t({syncScrollHorizontal:o}),description:"Sync horizontal scroll in split view"}),e.jsx(a,{label:"Show Non-Printable Characters",checked:n.showNonPrintable,onChange:o=>t({showNonPrintable:o})}),e.jsx(a,{label:"Show Wrap Symbol",checked:n.showWrapSymbol,onChange:o=>t({showWrapSymbol:o}),description:"Show a visual indicator where lines wrap"}),e.jsx(h,{label:"Search Engine",value:n.searchEngine,options:[{value:"google",label:"Google"},{value:"bing",label:"Bing"},{value:"duckduckgo",label:"DuckDuckGo"},{value:"yahoo",label:"Yahoo"}],onChange:o=>t({searchEngine:o})})]}),u==="keybindings"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Keyboard Shortcuts"}),e.jsx("div",{style:s.keybindingsContainer,children:[{key:"⌘N",desc:"New File"},{key:"⌘O",desc:"Open File"},{key:"⌘S",desc:"Save"},{key:"⌘⇧S",desc:"Save As"},{key:"⌘W",desc:"Close Tab"},{key:"⌘F",desc:"Find"},{key:"⌘H",desc:"Replace"},{key:"⌘⇧F",desc:"Find in Files"},{key:"⌘G",desc:"Go to Line"},{key:"⌘D",desc:"Duplicate Line"},{key:"⌘/",desc:"Toggle Comment"},{key:"⌘B",desc:"Toggle Sidebar"},{key:"⌘,",desc:"Preferences"},{key:"⌘+",desc:"Zoom In"},{key:"⌘-",desc:"Zoom Out"},{key:"⌘0",desc:"Reset Zoom"},{key:"⌘⇧R",desc:"Start/Stop Macro Recording"},{key:"⌘⇧P",desc:"Playback Macro"},{key:"⌘F2",desc:"Toggle Bookmark"},{key:"F2",desc:"Next Bookmark"},{key:"⇧F2",desc:"Previous Bookmark"},{key:"⌥↑",desc:"Move Line Up"},{key:"⌥↓",desc:"Move Line Down"}].map(o=>e.jsxs("div",{style:s.keybindingRow,children:[e.jsx("span",{children:o.desc}),e.jsx("kbd",{style:s.keybindingKbd,children:o.key})]},`binding-${o.key}`))})]})]})]})]})})}export{I as SettingsDialog};
