import{u as C,r as n,a as k,j as e}from"./index-BkelTrND.js";import"./react-vendor-P8ZuH1e3.js";import"./monaco-editor-BYMRfcD5.js";function B({theme:o}){const{setShowColumnEditor:r}=C(),[l,a]=n.useState("text"),[i,b]=n.useState(""),[c,m]=n.useState("0"),[d,j]=n.useState("1"),[x,h]=n.useState("1"),[u,S]=n.useState(!1),[p,v]=n.useState("dec"),y=n.useRef(null),g=n.useRef(null);n.useEffect(()=>{var t;(t=y.current)==null||t.focus()},[]),k(g,!0,()=>r(!1));const f=()=>{const t={mode:l};l==="text"?t.text=i:(t.initial=parseInt(c)||0,t.increase=parseInt(d)||1,t.repeat=parseInt(x)||1,t.leadingZeros=u,t.format=p),document.dispatchEvent(new CustomEvent("notemac-column-edit",{detail:t})),r(!1)},s={height:28,backgroundColor:o.bg,color:o.text,border:`1px solid ${o.border}`,borderRadius:4,padding:"0 8px",fontSize:13,width:"100%"};return e.jsx("div",{className:"dialog-overlay",onClick:()=>r(!1),children:e.jsxs("div",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":"column-editor-title",onClick:t=>t.stopPropagation(),style:{backgroundColor:o.bgSecondary,border:`1px solid ${o.border}`,borderRadius:8,padding:20,width:380,boxShadow:"0 8px 32px rgba(0,0,0,0.4)"},children:[e.jsx("h3",{id:"column-editor-title",style:{color:o.text,fontSize:16,marginBottom:16,fontWeight:600},children:"Column Editor"}),e.jsxs("div",{style:{display:"flex",gap:12,marginBottom:16},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,color:o.textSecondary,cursor:"pointer",fontSize:13},children:[e.jsx("input",{type:"radio",checked:l==="text",onChange:()=>a("text"),style:{accentColor:o.accent}}),"Text to Insert"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,color:o.textSecondary,cursor:"pointer",fontSize:13},children:[e.jsx("input",{type:"radio",checked:l==="number",onChange:()=>a("number"),style:{accentColor:o.accent}}),"Number to Insert"]})]}),l==="text"?e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{fontSize:12,color:o.textSecondary,marginBottom:4,display:"block"},children:"Text:"}),e.jsx("input",{ref:y,value:i,onChange:t=>b(t.target.value),onKeyDown:t=>{t.key==="Enter"&&f(),t.key==="Escape"&&r(!1)},style:s})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:16},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:o.textSecondary,marginBottom:4,display:"block"},children:"Initial Number:"}),e.jsx("input",{type:"number",value:c,onChange:t=>m(t.target.value),style:s})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:o.textSecondary,marginBottom:4,display:"block"},children:"Increase by:"}),e.jsx("input",{type:"number",value:d,onChange:t=>j(t.target.value),style:s})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:o.textSecondary,marginBottom:4,display:"block"},children:"Repeat:"}),e.jsx("input",{type:"number",value:x,onChange:t=>h(t.target.value),style:s,min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:o.textSecondary,marginBottom:4,display:"block"},children:"Format:"}),e.jsxs("select",{value:p,onChange:t=>v(t.target.value),style:{...s,height:30},children:[e.jsx("option",{value:"dec",children:"Decimal"}),e.jsx("option",{value:"hex",children:"Hexadecimal"}),e.jsx("option",{value:"oct",children:"Octal"}),e.jsx("option",{value:"bin",children:"Binary"})]})]})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12,color:o.textSecondary,cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:u,onChange:t=>S(t.target.checked),style:{accentColor:o.accent}}),"Leading Zeros"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[e.jsx("button",{onClick:()=>r(!1),style:{backgroundColor:"transparent",color:o.textSecondary,border:`1px solid ${o.border}`,borderRadius:6,padding:"6px 16px",cursor:"pointer",fontSize:13},children:"Cancel"}),e.jsx("button",{onClick:f,style:{backgroundColor:o.accent,color:o.accentText,border:"none",borderRadius:6,padding:"6px 20px",cursor:"pointer",fontSize:13,fontWeight:600},children:"Insert"})]})]})})}export{B as ColumnEditorDialog};
