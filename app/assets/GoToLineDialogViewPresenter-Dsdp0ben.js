import{u as g,r,a as b,j as t}from"./index-BTNi3_Rr.js";import"./react-vendor-P8ZuH1e3.js";import"./monaco-editor-BYMRfcD5.js";function h({theme:e}){const{setShowGoToLine:n,tabs:u,activeTabId:p}=g(),[a,f]=r.useState(""),l=r.useRef(null),s=r.useRef(null),d=u.find(o=>o.id===p),i=d?d.content.split(`
`).length:0;r.useEffect(()=>{var o;(o=l.current)==null||o.focus()},[]),b(s,!0,()=>n(!1));const c=()=>{const o=parseInt(a);isNaN(o)||o<1||(document.dispatchEvent(new CustomEvent("notemac-goto-line",{detail:{line:o}})),n(!1))};return t.jsx("div",{className:"dialog-overlay",onClick:()=>n(!1),children:t.jsxs("div",{ref:s,role:"dialog","aria-modal":"true","aria-labelledby":"goto-line-title",onClick:o=>o.stopPropagation(),style:{backgroundColor:e.bgSecondary,border:`1px solid ${e.border}`,borderRadius:8,padding:20,width:350,boxShadow:"0 8px 32px rgba(0,0,0,0.4)"},children:[t.jsx("h3",{id:"goto-line-title",style:{color:e.text,fontSize:16,marginBottom:12,fontWeight:600},children:"Go to Line"}),t.jsxs("div",{style:{color:e.textSecondary,fontSize:12,marginBottom:12},children:["Enter line number (1 - ",i,")"]}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("input",{ref:l,type:"number",value:a,onChange:o=>f(o.target.value),onKeyDown:o=>{o.key==="Enter"&&c(),o.key==="Escape"&&n(!1)},min:1,max:i,placeholder:`1 - ${i}`,style:{flex:1,height:32,backgroundColor:e.bg,color:e.text,border:`1px solid ${e.border}`,borderRadius:6,padding:"0 12px",fontSize:14}}),t.jsx("button",{onClick:c,style:{backgroundColor:e.accent,color:e.accentText,border:"none",borderRadius:6,padding:"0 20px",cursor:"pointer",fontSize:13,fontWeight:600},children:"Go"})]})]})})}export{h as GoToLineDialog};
