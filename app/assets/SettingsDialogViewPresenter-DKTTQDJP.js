import{u as j,r as x,a as w,j as e,t as T,G as z}from"./index-7_7J9ntc.js";import"./react-vendor-P8ZuH1e3.js";import"./monaco-editor-BYMRfcD5.js";function B(n){return x.useMemo(()=>({fieldContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},fieldLabel:{color:n.text,fontSize:13},selectInput:{backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},numberInput:{backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,width:80,textAlign:"center"},checkboxContainer:{padding:"8px 0"},checkboxLabel:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},checkboxInput:{accentColor:n.accent,width:16,height:16},checkboxLabelText:{color:n.text,fontSize:13},checkboxDescription:{color:n.textMuted,fontSize:12,marginTop:2},sectionHeader:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:n.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${n.border}`,marginBottom:8},dialogOverlay:{className:"dialog-overlay"},dialogMain:{backgroundColor:n.bgSecondary,border:`1px solid ${n.border}`,width:"90vw",maxWidth:650,maxHeight:"80vh",display:"flex",flexDirection:"column"},dialogHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},dialogTitle:{color:n.text,fontSize:18,fontWeight:600},closeButton:{cursor:"pointer",color:n.textMuted,fontSize:20},contentWrapper:{display:"flex",flex:1,gap:16,overflow:"hidden"},sidebarNav:{width:140,flexShrink:0,display:"flex",flexDirection:"column",gap:2},sidebarItem:l=>({padding:"8px 12px",cursor:"pointer",borderRadius:6,fontSize:13,backgroundColor:l?n.bgHover:"transparent",color:l?n.text:n.textSecondary,fontWeight:l?600:400}),settingsContent:{flex:1,overflow:"auto",paddingRight:8},keybindingsContainer:{color:n.textSecondary,fontSize:13},keybindingRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:`1px solid ${n.border}`},keybindingKbd:{backgroundColor:n.bgTertiary,padding:"2px 8px",borderRadius:4,fontSize:12,fontFamily:"-apple-system, system-ui, sans-serif",border:`1px solid ${n.border}`}}),[n])}function F({theme:n}){const{settings:l,updateSettings:t}=j(),h=l.theme==="custom",g=h?l.customThemeBase:l.theme,v=z(g),m=Object.keys(l.customThemeColors).filter(i=>l.customThemeColors[i]!==void 0).length,S=x.useCallback(i=>{t(i==="custom"?{theme:"custom",customThemeBase:l.theme,customThemeColors:{}}:{theme:i,customThemeColors:{}})},[l.theme,t]),y=x.useCallback((i,d)=>{const a={...l.customThemeColors,[i]:d};t(h?{customThemeColors:a}:{theme:"custom",customThemeBase:l.theme,customThemeColors:a})},[h,l.theme,l.customThemeColors,t]),s=x.useCallback(i=>{const d={...l.customThemeColors};delete d[i];const a=Object.keys(d).filter(r=>d[r]!==void 0).length;t(a===0?{theme:l.customThemeBase,customThemeColors:{}}:{customThemeColors:d})},[l.customThemeBase,l.customThemeColors,t]),k=x.useCallback(()=>{t({theme:l.customThemeBase,customThemeColors:{}})},[l.customThemeBase,t]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:n.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${n.border}`,marginBottom:8},children:"Theme"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:n.text,fontSize:13},children:"Color Theme"}),e.jsxs("select",{value:l.theme,onChange:i=>S(i.target.value),style:{backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},children:[e.jsx("option",{value:"mac-glass",children:"Mac Glass (Default)"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"monokai",children:"Monokai"}),e.jsx("option",{value:"dracula",children:"Dracula"}),e.jsx("option",{value:"solarized-dark",children:"Solarized Dark"}),e.jsx("option",{value:"solarized-light",children:"Solarized Light"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),h&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:n.text,fontSize:13},children:"Base Theme"}),e.jsxs("select",{value:l.customThemeBase,onChange:i=>t({customThemeBase:i.target.value}),style:{backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},children:[e.jsx("option",{value:"mac-glass",children:"Mac Glass"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"monokai",children:"Monokai"}),e.jsx("option",{value:"dracula",children:"Dracula"}),e.jsx("option",{value:"solarized-dark",children:"Solarized Dark"}),e.jsx("option",{value:"solarized-light",children:"Solarized Light"})]})]}),e.jsx("div",{style:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:n.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${n.border}`,marginBottom:8},children:"Font"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:n.text,fontSize:13},children:"Font Size"}),e.jsx("input",{type:"number",value:l.fontSize,min:8,max:32,onChange:i=>t({fontSize:parseInt(i.target.value)}),style:{backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,width:80,textAlign:"center"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[e.jsx("label",{style:{color:n.text,fontSize:13},children:"Font Family"}),e.jsxs("select",{value:l.fontFamily,onChange:i=>t({fontFamily:i.target.value}),style:{backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"4px 8px",fontSize:13,minWidth:160},children:[e.jsx("option",{value:"'SF Mono', 'Menlo', 'Monaco', 'Courier New', monospace",children:"SF Mono"}),e.jsx("option",{value:"'Menlo', 'Monaco', 'Courier New', monospace",children:"Menlo"}),e.jsx("option",{value:"'Fira Code', 'SF Mono', monospace",children:"Fira Code"}),e.jsx("option",{value:"'JetBrains Mono', 'SF Mono', monospace",children:"JetBrains Mono"}),e.jsx("option",{value:"'Source Code Pro', 'SF Mono', monospace",children:"Source Code Pro"}),e.jsx("option",{value:"'Courier New', monospace",children:"Courier New"})]})]}),e.jsxs("div",{style:{fontSize:12,fontWeight:600,textTransform:"uppercase",letterSpacing:1,color:n.textSecondary,padding:"16px 0 8px",borderBottom:`1px solid ${n.border}`,marginBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Theme Colors"}),e.jsx("span",{style:{display:"flex",gap:8,alignItems:"center"},children:m>0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:{fontSize:11,fontWeight:400,textTransform:"none",letterSpacing:0,color:n.accent},children:[m," color",m!==1?"s":""," customized"]}),e.jsx("button",{onClick:k,style:{fontSize:11,background:"none",border:`1px solid ${n.border}`,borderRadius:4,color:n.textSecondary,cursor:"pointer",padding:"2px 8px",textTransform:"none",letterSpacing:0},children:"Reset All"})]})})]}),T.map(i=>e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("div",{style:{fontSize:11,fontWeight:600,color:n.textMuted,marginBottom:6,paddingTop:4},children:i.label}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<500?"1fr":"1fr 1fr",gap:"4px 12px"},children:i.keys.map(({key:d,label:a})=>{const r=d,o=l.customThemeColors[r],p=o||v[r]||"#000000",c=o!==void 0;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"2px 0"},"data-testid":`color-picker-${r}`,children:[e.jsx("input",{type:"color",value:p,onChange:b=>y(r,b.target.value),style:{width:24,height:24,border:`1px solid ${n.border}`,borderRadius:4,cursor:"pointer",padding:0,background:"none"},"data-testid":`color-input-${r}`}),e.jsx("span",{style:{fontSize:11,color:c?n.text:n.textSecondary,flex:1},children:a}),c&&e.jsx("button",{onClick:()=>s(r),"data-testid":`color-reset-${r}`,style:{fontSize:12,background:"none",border:"none",color:n.textMuted,cursor:"pointer",padding:"0 4px",lineHeight:1},title:"Reset to base theme",children:"×"})]},r)})})]},i.label))]})}function D({theme:n}){const{settings:l,updateSettings:t,setShowSettings:h}=j(),[g,v]=x.useState("general"),[m,S]=x.useState(window.innerWidth<600),y=x.useRef(null),s=B(n);x.useEffect(()=>{const o=()=>S(window.innerWidth<600);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),w(y,!0,()=>h(!1));const k=[{id:"general",label:"General"},{id:"editor",label:"Editor"},{id:"appearance",label:"Appearance"},{id:"advanced",label:"Advanced"},{id:"keybindings",label:"Keybindings"}],i=({label:o,value:p,options:c,onChange:b})=>e.jsxs("div",{style:s.fieldContainer,children:[e.jsx("label",{style:s.fieldLabel,children:o}),e.jsx("select",{value:p,onChange:u=>b(u.target.value),style:s.selectInput,children:c.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))})]}),d=({label:o,value:p,min:c,max:b,step:u,onChange:C})=>e.jsxs("div",{style:s.fieldContainer,children:[e.jsx("label",{style:s.fieldLabel,children:o}),e.jsx("input",{type:"number",value:p,min:c,max:b,step:u||1,onChange:f=>C(parseInt(f.target.value)),style:s.numberInput})]}),a=({label:o,checked:p,onChange:c,description:b})=>e.jsx("div",{style:s.checkboxContainer,children:e.jsxs("label",{style:s.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:p,onChange:u=>c(u.target.checked),style:s.checkboxInput}),e.jsxs("div",{children:[e.jsx("div",{style:s.checkboxLabelText,children:o}),b&&e.jsx("div",{style:s.checkboxDescription,children:b})]})]})}),r=({title:o})=>e.jsx("div",{style:s.sectionHeader,children:o});return e.jsx("div",{className:"dialog-overlay",onClick:()=>h(!1),children:e.jsxs("div",{ref:y,role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",className:"dialog",onClick:o=>o.stopPropagation(),style:s.dialogMain,children:[e.jsxs("div",{style:s.dialogHeader,children:[e.jsx("h2",{id:"settings-title",style:s.dialogTitle,children:"Preferences"}),e.jsx("span",{onClick:()=>h(!1),style:s.closeButton,children:"×"})]}),e.jsxs("div",{style:{...s.contentWrapper,...m?{flexDirection:"column"}:{}},children:[e.jsx("div",{style:{...s.sidebarNav,...m?{width:"100%",flexDirection:"row",overflowX:"auto",gap:0,borderBottom:`1px solid ${n.border}`,paddingBottom:4,marginBottom:8}:{}},children:k.map(o=>e.jsx("div",{onClick:()=>v(o.id),style:{...s.sidebarItem(g===o.id),...m?{whiteSpace:"nowrap",padding:"6px 10px",fontSize:12}:{}},children:o.label},o.id))}),e.jsxs("div",{style:s.settingsContent,children:[g==="general"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"General Settings"}),e.jsx(a,{label:"Auto Save",checked:l.autoSave,onChange:o=>t({autoSave:o}),description:"Automatically save files after changes"}),l.autoSave&&e.jsx(d,{label:"Auto Save Delay (ms)",value:l.autoSaveDelay,min:1e3,max:6e4,step:1e3,onChange:o=>t({autoSaveDelay:o})}),e.jsx(d,{label:"Tab Size",value:l.tabSize,min:1,max:8,onChange:o=>t({tabSize:o})}),e.jsx(a,{label:"Insert Spaces for Tabs",checked:l.insertSpaces,onChange:o=>t({insertSpaces:o})}),e.jsx(a,{label:"Auto Indent",checked:l.autoIndent,onChange:o=>t({autoIndent:o}),description:"Automatically indent new lines"}),e.jsx(a,{label:"Remember Last Session",checked:l.rememberLastSession,onChange:o=>t({rememberLastSession:o}),description:"Restore open files when relaunching"}),e.jsx(i,{label:"Date/Time Format",value:l.dateTimeFormat,options:[{value:"locale",label:"Locale Default"},{value:"iso",label:"ISO 8601"},{value:"us",label:"US (MM/DD/YYYY)"},{value:"eu",label:"EU (DD/MM/YYYY)"}],onChange:o=>t({dateTimeFormat:o})})]}),g==="editor"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Editor Behavior"}),e.jsx(a,{label:"Word Wrap",checked:l.wordWrap,onChange:o=>t({wordWrap:o})}),e.jsx(a,{label:"Match Brackets",checked:l.matchBrackets,onChange:o=>t({matchBrackets:o})}),e.jsx(a,{label:"Auto Close Brackets",checked:l.autoCloseBrackets,onChange:o=>t({autoCloseBrackets:o})}),e.jsx(a,{label:"Auto Close Quotes",checked:l.autoCloseQuotes,onChange:o=>t({autoCloseQuotes:o})}),e.jsx(a,{label:"Highlight Current Line",checked:l.highlightCurrentLine,onChange:o=>t({highlightCurrentLine:o})}),e.jsx(a,{label:"Smooth Scrolling",checked:l.smoothScrolling,onChange:o=>t({smoothScrolling:o})}),e.jsx(r,{title:"Display"}),e.jsx(a,{label:"Show Line Numbers",checked:l.showLineNumbers,onChange:o=>t({showLineNumbers:o})}),e.jsx(a,{label:"Show Minimap",checked:l.showMinimap,onChange:o=>t({showMinimap:o})}),e.jsx(a,{label:"Show Indent Guides",checked:l.showIndentGuides,onChange:o=>t({showIndentGuides:o})}),e.jsx(a,{label:"Show End of Line Characters",checked:l.showEOL,onChange:o=>t({showEOL:o})}),e.jsx(i,{label:"Render Whitespace",value:l.renderWhitespace,options:[{value:"none",label:"None"},{value:"boundary",label:"Boundary"},{value:"selection",label:"Selection"},{value:"trailing",label:"Trailing"},{value:"all",label:"All"}],onChange:o=>t({renderWhitespace:o})}),e.jsx(i,{label:"Cursor Style",value:l.cursorStyle,options:[{value:"line",label:"Line"},{value:"block",label:"Block"},{value:"underline",label:"Underline"}],onChange:o=>t({cursorStyle:o})}),e.jsx(i,{label:"Cursor Blinking",value:l.cursorBlinking,options:[{value:"blink",label:"Blink"},{value:"smooth",label:"Smooth"},{value:"phase",label:"Phase"},{value:"expand",label:"Expand"},{value:"solid",label:"Solid"}],onChange:o=>t({cursorBlinking:o})})]}),g==="appearance"&&e.jsx(F,{theme:n}),g==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Advanced Settings"}),e.jsx(a,{label:"Virtual Space",checked:l.virtualSpace,onChange:o=>t({virtualSpace:o}),description:"Allow cursor to move beyond end of line"}),e.jsx(a,{label:"Always on Top",checked:l.alwaysOnTop,onChange:o=>{var p,c;t({alwaysOnTop:o}),window.electronAPI&&((c=(p=window.electronAPI).setAlwaysOnTop)==null||c.call(p,o))},description:"Keep window above all other windows"}),e.jsx(a,{label:"Distraction-Free Mode",checked:l.distractionFreeMode,onChange:o=>t({distractionFreeMode:o}),description:"Hide all chrome for focused editing"}),e.jsx(a,{label:"Sync Scroll (Vertical)",checked:l.syncScrollVertical,onChange:o=>t({syncScrollVertical:o}),description:"Sync vertical scroll in split view"}),e.jsx(a,{label:"Sync Scroll (Horizontal)",checked:l.syncScrollHorizontal,onChange:o=>t({syncScrollHorizontal:o}),description:"Sync horizontal scroll in split view"}),e.jsx(a,{label:"Show Non-Printable Characters",checked:l.showNonPrintable,onChange:o=>t({showNonPrintable:o})}),e.jsx(a,{label:"Show Wrap Symbol",checked:l.showWrapSymbol,onChange:o=>t({showWrapSymbol:o}),description:"Show a visual indicator where lines wrap"}),e.jsx(i,{label:"Search Engine",value:l.searchEngine,options:[{value:"google",label:"Google"},{value:"bing",label:"Bing"},{value:"duckduckgo",label:"DuckDuckGo"},{value:"yahoo",label:"Yahoo"}],onChange:o=>t({searchEngine:o})})]}),g==="keybindings"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Keyboard Shortcuts"}),e.jsx("div",{style:s.keybindingsContainer,children:[{key:"⌘N",desc:"New File"},{key:"⌘O",desc:"Open File"},{key:"⌘S",desc:"Save"},{key:"⌘⇧S",desc:"Save As"},{key:"⌘W",desc:"Close Tab"},{key:"⌘F",desc:"Find"},{key:"⌘H",desc:"Replace"},{key:"⌘⇧F",desc:"Find in Files"},{key:"⌘G",desc:"Go to Line"},{key:"⌘D",desc:"Duplicate Line"},{key:"⌘/",desc:"Toggle Comment"},{key:"⌘B",desc:"Toggle Sidebar"},{key:"⌘,",desc:"Preferences"},{key:"⌘+",desc:"Zoom In"},{key:"⌘-",desc:"Zoom Out"},{key:"⌘0",desc:"Reset Zoom"},{key:"⌘⇧R",desc:"Start/Stop Macro Recording"},{key:"⌘⇧P",desc:"Playback Macro"},{key:"⌘F2",desc:"Toggle Bookmark"},{key:"F2",desc:"Next Bookmark"},{key:"⇧F2",desc:"Previous Bookmark"},{key:"⌥↑",desc:"Move Line Up"},{key:"⌥↓",desc:"Move Line Down"}].map(o=>e.jsxs("div",{style:s.keybindingRow,children:[e.jsx("span",{children:o.desc}),e.jsx("kbd",{style:s.keybindingKbd,children:o.key})]},`binding-${o.key}`))})]})]})]})]})})}export{D as SettingsDialog};
