import{u as S,r as l,a as k,j as e}from"./index-DClPDja_.js";import"./react-vendor-P8ZuH1e3.js";import"./monaco-editor-BYMRfcD5.js";function I(n){return l.useMemo(()=>({inputField:{height:28,backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"0 8px",fontSize:13,width:"100%"},selectField:{height:30,backgroundColor:n.bg,color:n.text,border:`1px solid ${n.border}`,borderRadius:4,padding:"0 8px",fontSize:13,width:"100%"},dialogContainer:{backgroundColor:n.bgSecondary,border:`1px solid ${n.border}`,borderRadius:8,padding:20,width:380,boxShadow:"0 8px 32px rgba(0,0,0,0.4)"},dialogTitle:{color:n.text,fontSize:16,marginBottom:16,fontWeight:600},modeSelector:{display:"flex",gap:12,marginBottom:16},modeLabel:{display:"flex",alignItems:"center",gap:4,color:n.textSecondary,cursor:"pointer",fontSize:13},modeRadio:{accentColor:n.accent},fieldSection:{marginBottom:16},fieldLabel:{fontSize:12,color:n.textSecondary,marginBottom:4,display:"block"},gridContainer:i=>({display:"grid",gridTemplateColumns:`repeat(${i}, 1fr)`,gap:8}),checkboxLabel:{display:"flex",alignItems:"center",gap:4,fontSize:12,color:n.textSecondary,cursor:"pointer"},checkboxInput:{accentColor:n.accent},buttonContainer:{display:"flex",justifyContent:"flex-end",gap:8},cancelButton:{backgroundColor:"transparent",color:n.textSecondary,border:`1px solid ${n.border}`,borderRadius:6,padding:"6px 16px",cursor:"pointer",fontSize:13},submitButton:{backgroundColor:n.accent,color:n.accentText,border:"none",borderRadius:6,padding:"6px 20px",cursor:"pointer",fontSize:13,fontWeight:600}}),[n])}function E({theme:n}){const{setShowColumnEditor:i}=S(),[r,a]=l.useState("text"),[s,f]=l.useState(""),[d,h]=l.useState("0"),[c,m]=l.useState("1"),[u,j]=l.useState("1"),[x,C]=l.useState(!1),[p,v]=l.useState("dec"),b=l.useRef(null),g=l.useRef(null),o=I(n);l.useEffect(()=>{var t;(t=b.current)==null||t.focus()},[]),k(g,!0,()=>i(!1));const y=()=>{const t={mode:r};r==="text"?t.text=s:(t.initial=parseInt(d)||0,t.increase=parseInt(c)||1,t.repeat=parseInt(u)||1,t.leadingZeros=x,t.format=p),document.dispatchEvent(new CustomEvent("notemac-column-edit",{detail:t})),i(!1)};return e.jsx("div",{className:"dialog-overlay",onClick:()=>i(!1),children:e.jsxs("div",{ref:g,role:"dialog","aria-modal":"true","aria-labelledby":"column-editor-title",onClick:t=>t.stopPropagation(),style:o.dialogContainer,children:[e.jsx("h3",{id:"column-editor-title",style:o.dialogTitle,children:"Column Editor"}),e.jsxs("div",{style:o.modeSelector,children:[e.jsxs("label",{style:o.modeLabel,children:[e.jsx("input",{type:"radio",checked:r==="text",onChange:()=>a("text"),style:o.modeRadio}),"Text to Insert"]}),e.jsxs("label",{style:o.modeLabel,children:[e.jsx("input",{type:"radio",checked:r==="number",onChange:()=>a("number"),style:o.modeRadio}),"Number to Insert"]})]}),r==="text"?e.jsxs("div",{style:o.fieldSection,children:[e.jsx("label",{style:o.fieldLabel,children:"Text:"}),e.jsx("input",{ref:b,value:s,onChange:t=>f(t.target.value),onKeyDown:t=>{t.key==="Enter"&&y(),t.key==="Escape"&&i(!1)},style:o.inputField})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:16},children:[e.jsxs("div",{style:o.gridContainer(2),children:[e.jsxs("div",{children:[e.jsx("label",{style:o.fieldLabel,children:"Initial Number:"}),e.jsx("input",{type:"number",value:d,onChange:t=>h(t.target.value),style:o.inputField})]}),e.jsxs("div",{children:[e.jsx("label",{style:o.fieldLabel,children:"Increase by:"}),e.jsx("input",{type:"number",value:c,onChange:t=>m(t.target.value),style:o.inputField})]})]}),e.jsxs("div",{style:o.gridContainer(2),children:[e.jsxs("div",{children:[e.jsx("label",{style:o.fieldLabel,children:"Repeat:"}),e.jsx("input",{type:"number",value:u,onChange:t=>j(t.target.value),style:o.inputField,min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{style:o.fieldLabel,children:"Format:"}),e.jsxs("select",{value:p,onChange:t=>v(t.target.value),style:o.selectField,children:[e.jsx("option",{value:"dec",children:"Decimal"}),e.jsx("option",{value:"hex",children:"Hexadecimal"}),e.jsx("option",{value:"oct",children:"Octal"}),e.jsx("option",{value:"bin",children:"Binary"})]})]})]}),e.jsxs("label",{style:o.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:x,onChange:t=>C(t.target.checked),style:o.checkboxInput}),"Leading Zeros"]})]}),e.jsxs("div",{style:o.buttonContainer,children:[e.jsx("button",{onClick:()=>i(!1),style:o.cancelButton,children:"Cancel"}),e.jsx("button",{onClick:y,style:o.submitButton,children:"Insert"})]})]})})}export{E as ColumnEditorDialog};
